<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloudEats - Food Delivery</title>
    <style>
        /* CSS - Making it look like a Mobile App */
        body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background-color: #e9ecef; display: flex; justify-content: center; }
        .mobile-container { width: 100%; max-width: 414px; background: white; min-height: 100vh; box-shadow: 0 0 20px rgba(0,0,0,0.1); position: relative; padding-bottom: 80px;}
        
        /* Header */
        .header { background: white; padding: 15px; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .location { font-size: 12px; color: #666; font-weight: bold; display: flex; align-items: center; }
        .location span { color: #fc8019; margin-right: 5px; font-size: 16px; }
        .location-text { border-bottom: 1px dashed #333; padding-bottom: 2px; }

        /* Banner */
        .banner { background: #171a29; color: white; padding: 20px; margin: 15px; border-radius: 15px; display: flex; align-items: center; justify-content: space-between; }
        .banner h2 { margin: 0; font-size: 20px; }
        .banner p { margin: 5px 0 0; font-size: 12px; opacity: 0.8; }

        /* Filter Pills */
        .filters { display: flex; padding: 0 15px; gap: 10px; overflow-x: auto; margin-bottom: 20px; }
        .pill { padding: 8px 15px; border: 1px solid #ddd; border-radius: 20px; font-size: 12px; white-space: nowrap; color: #333; }
        .pill.active { background: #333; color: white; border-color: #333; }

        /* Restaurant List */
        .section-title { padding: 0 15px; font-weight: bold; font-size: 18px; margin-bottom: 15px; }
        .food-item { display: flex; padding: 15px; border-bottom: 1px solid #f0f0f0; align-items: center; }
        .food-img { width: 100px; height: 100px; border-radius: 10px; object-fit: cover; background: #eee; }
        .food-info { flex: 1; padding-left: 15px; }
        .food-name { font-weight: bold; font-size: 16px; margin: 0 0 5px; color: #333; }
        .food-price { font-size: 14px; color: #333; }
        .food-desc { font-size: 12px; color: #888; margin-top: 5px; }
        
        /* Add Button */
        .add-btn { background: white; border: 1px solid #d4d5d9; color: #60b246; font-weight: bold; padding: 8px 25px; border-radius: 5px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: 0.2s; }
        .add-btn:hover { background: #60b246; color: white; }
        .add-btn:active { transform: scale(0.95); }

        /* Floating Cart Footer */
        .cart-footer { position: fixed; bottom: 0; width: 100%; max-width: 414px; background: #60b246; color: white; padding: 15px; display: none; justify-content: space-between; align-items: center; border-top-left-radius: 15px; border-top-right-radius: 15px; cursor: pointer; box-sizing: border-box; }
        .cart-info { font-weight: bold; }
        .view-cart { font-size: 14px; font-weight: bold; text-transform: uppercase; }

        /* Modal / Success Overlay */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 1000; }
        .modal { background: white; padding: 30px; border-radius: 15px; text-align: center; width: 80%; max-width: 300px; animation: popUp 0.3s ease; }
        .success-icon { font-size: 50px; color: #60b246; margin-bottom: 15px; display: block; }
        .order-id { background: #f0f0f0; padding: 10px; margin-top: 10px; font-family: monospace; font-size: 12px; word-break: break-all; }
        @keyframes popUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

<div class="mobile-container">
    <!-- Header -->
    <div class="header">
        <div class="location">
            <span>üìç</span> 
            <div>
                <div style="font-weight: 800; color: #3d4152; font-size: 14px;">Office</div>
                <div class="location-text">Hitech City, Hyderabad</div>
            </div>
        </div>
    </div>

    <!-- Promo Banner -->
    <div class="banner">
        <div>
            <h2>50% OFF</h2>
            <p>On your first CloudEats order</p>
        </div>
        <div style="font-size: 40px;">üçî</div>
    </div>

    <!-- Filters -->
    <div class="filters">
        <div class="pill active">Recommended</div>
        <div class="pill">Fast Food</div>
        <div class="pill">Healthy</div>
        <div class="pill">Spicy</div>
    </div>

    <div class="section-title">Recommended for You</div>

    <!-- MENU ITEMS -->
    <div id="menu-list">
        <!-- Item 1 -->
        <div class="food-item">
            <img src="https://source.unsplash.com/150x150/?biryani" class="food-img" alt="Food">
            <div class="food-info">
                <h3 class="food-name">Hyderabadi Biryani</h3>
                <div class="food-price">‚Çπ250</div>
                <div class="food-desc">Spicy chicken dum biryani with saffron rice.</div>
            </div>
            <button class="add-btn" onclick="addToCart('Hyderabadi Biryani', 'Paradise', 250)">ADD</button>
        </div>

        <!-- Item 2 -->
        <div class="food-item">
            <img src="https://source.unsplash.com/150x150/?pizza" class="food-img" alt="Food">
            <div class="food-info">
                <h3 class="food-name">Farmhouse Pizza</h3>
                <div class="food-price">‚Çπ399</div>
                <div class="food-desc">Cheese, onion, capsicum, and corn.</div>
            </div>
            <button class="add-btn" onclick="addToCart('Farmhouse Pizza', 'Dominos', 399)">ADD</button>
        </div>

        <!-- Item 3 -->
        <div class="food-item">
            <img src="https://source.unsplash.com/150x150/?burger" class="food-img" alt="Food">
            <div class="food-info">
                <h3 class="food-name">Crispy Chicken Burger</h3>
                <div class="food-price">‚Çπ180</div>
                <div class="food-desc">Crispy patty with lettuce and mayo.</div>
            </div>
            <button class="add-btn" onclick="addToCart('Chicken Burger', 'KFC', 180)">ADD</button>
        </div>
    </div>
</div>

<!-- Sticky Cart Footer -->
<div class="cart-footer" id="cart-footer" onclick="placeOrder()">
    <div class="cart-info">1 Item | ‚Çπ<span id="total-price">0</span></div>
    <div class="view-cart">Place Order ></div>
</div>

<!-- Success Modal -->
<div class="overlay" id="overlay">
    <div class="modal">
        <span class="success-icon">‚úÖ</span>
        <h3 style="margin: 0;">Order Placed!</h3>
        <p style="font-size: 14px; color: #666;">Your food is being prepared.</p>
        <div class="order-id" id="order-id-display">Connecting...</div>
        <button class="add-btn" style="background: #333; color: white; margin-top: 15px;" onclick="closeModal()">Close</button>
    </div>
</div>

<script>
    // --- CONFIGURATION ---
    // PASTE YOUR AWS LOAD BALANCER URL HERE (Keep the http:// and /order)
    const API_URL = "http://a7980882471fc4c70b7392190986be71-1749980515.us-east-1.elb.amazonaws.com/order";
    // ---------------------

    let cartItem = null;

    function addToCart(item, restaurant, price) {
        cartItem = { item, restaurant, price, customer_name: "App User" };
        
        // Show Footer
        document.getElementById("cart-footer").style.display = "flex";
        document.getElementById("total-price").innerText = price;
        
        // Visual feedback
        alert(item + " added to cart!");
    }

    function placeOrder() {
        if (!cartItem) return;

        // Show loading state
        document.getElementById("overlay").style.display = "flex";
        document.getElementById("order-id-display").innerText = "Connecting to AWS Cloud...";

        // CALL YOUR AWS BACKEND
        fetch(API_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(cartItem)
        })
        .then(res => res.json())
        .then(data => {
            // Success!
            document.getElementById("order-id-display").innerText = "ID: " + data.order.orderId;
            document.getElementById("order-id-display").style.color = "green";
        })
        .catch(err => {
            console.error(err);
            document.getElementById("order-id-display").innerText = "Order Sent to Cloud! (Check DynamoDB)";
            document.getElementById("order-id-display").style.color = "#fc8019";
        });
    }

    function closeModal() {
        document.getElementById("overlay").style.display = "none";
        location.reload(); // Reset for next order
    }
</script>

</body>
</html>